{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","service/api.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Serchbar","state","searchQ","search","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","s","Searchbar","SearchForm","this","type","SearchFormButton","autoComplete","autoFocus","placeholder","onChange","Component","require","config","axios","defaults","baseURL","getPictures","query","page","params","q","per_page","key","process","get","then","data","hits","map","item","title","id","url","webformatURL","largeImageURL","catch","err","ImageGalleryItem","pictureTitle","pictutesUrl","cbOnClick","onClick","src","alt","ImageGallery","pictures","picture","v4","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackDropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","modalUrl","modalTitle","propsType","PropsType","func","App","isLoading","showModal","toggleModal","changeQuery","handleChangePage","prevState","handleModalShow","prevProps","getData","trim","length","alert","error","finally","scrollTo","top","documentElement","scrollHeight","behavior","console","log","cbOpenModal","style","display","justifyContent","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.51d23fbe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1q-7p\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1p1-n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1nn-y\",\"Modal\":\"Modal_Modal__9wKGs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Kfvj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3TCyG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__24Rmh\"};","import { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Serchbar extends Component {\r\n  state = {\r\n    searchQ: \"\",\r\n  };\r\n\r\n  search = (e) => {\r\n    this.setState({ searchQ: e.target.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchQ);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s[\"SearchForm-button-label\"]}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s[\"SearchForm-input\"]}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchQ}\r\n            onChange={this.search}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSerchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Serchbar;\r\n","import axios from \"axios\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\n// axios.defaults.baseURL = \"https://newsapi.org/v2/\"; api key d335026227984500a8905e832ae515ac\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n\r\nconst setParams = (params) =>\r\n  (axios.defaults.params = { key: API_KEY, ...params });\r\n\r\nexport const getPictures = (query, page) => {\r\n  setParams({\r\n    q: query,\r\n    per_page: 12,\r\n    page,\r\n  });\r\n\r\n  return (\r\n    axios\r\n      // .get(`everything`)\r\n      .get()\r\n      .then(({ data }) => {\r\n        const images = data.hits.map((item) => {\r\n          return {\r\n            title: item.id,\r\n            url: item.webformatURL,\r\n            largeImageURL: item.largeImageURL,\r\n          };\r\n        });\r\n        return images;\r\n      })\r\n      .catch((err) => {\r\n        throw err;\r\n      })\r\n  );\r\n};\r\n","import s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ pictureTitle, pictutesUrl, cbOnClick }) => {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => cbOnClick(pictutesUrl, pictureTitle)}\r\n    >\r\n      <img\r\n        src={pictutesUrl}\r\n        alt={pictureTitle}\r\n        className={s[\"ImageGalleryItem-image\"]}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  pictureTitle: PropTypes.string,\r\n  pictutesUrl: PropTypes.string,\r\n  cbOnClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport { v4 } from \"uuid\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ pictures, cbOnClick }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {pictures.map((picture) => (\r\n        <ImageGalleryItem\r\n          cbOnClick={cbOnClick}\r\n          key={v4()}\r\n          pictureTitle={picture.title}\r\n          pictutesUrl={picture.url}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.array,\r\n  cbOnClick: PropTypes.func,\r\n};\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\n\r\nconst Button = ({ cbOnClick }) => {\r\n  return (\r\n    <button className={s.Button} onClick={cbOnClick} type=\"button\">\r\n      More\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { createPortal } from \"react-dom\";\r\nimport { Component } from \"react\";\r\nimport s from \"./Modal.module.css\";\r\nimport PropsType from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackDropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackDropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.modalUrl} alt={this.props.modalTitle} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propsType = {\r\n  onClose: PropsType.func,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { getPictures } from \"./service/api\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport s from \"./App.module.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./components/Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    isLoading: false,\n    query: \"\",\n    page: 1,\n    showModal: false,\n    modalTitle: \"\",\n    modalUrl: \"\",\n    largeImageURL: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query && this.state.page === 1) {\n      this.getData();\n      this.setState({ pictures: [] });\n    }\n    if (this.state.page !== prevState.page) {\n      this.getData();\n    }\n    if (this.state.query !== prevState.query && this.state.page !== 1) {\n      this.setState({ page: 1, pictures: [] });\n    }\n  }\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  changeQuery = (query) => {\n    this.setState({ query });\n  };\n  getData() {\n    this.setState({ isLoading: true });\n    getPictures(this.state.query.trim(), this.state.page)\n      .then((pictures) => {\n        if (pictures.length === 0) alert(\"No search result\");\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...pictures],\n        }));\n      })\n      .catch((err) => this.setState({ error: err }))\n      .finally(() => {\n        if (this.state.page !== 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n        this.setState({ isLoading: false });\n      });\n  }\n  handleChangePage = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n  handleModalShow = (largeImageURL, modalTitle) => {\n    this.setState({ modalTitle });\n    this.setState({ largeImageURL });\n    this.toggleModal();\n  };\n\n  render() {\n    console.log(this.state.pictures);\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.changeQuery} />\n        <ImageGallery\n          pictures={this.state.pictures}\n          cbOnClick={this.handleModalShow}\n          cbOpenModal={this.toggleModal}\n        />\n        {this.state.isLoading && (\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Loader type=\"Hearts\" color=\"#3F51B5\" height={80} width={80} />\n          </div>\n        )}\n        {this.state.pictures.length >= 12 && (\n          <Button cbOnClick={this.handleChangePage} />\n        )}\n        {this.state.showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            modalUrl={this.state.largeImageURL}\n            modalTitle={this.state.modalTitle}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./Shared_styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__-bzbJ\",\"SearchForm\":\"Searchbar_SearchForm__8D6Ry\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2e3ck\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2nch1\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2HQgo\"};"],"sourceRoot":""}